<!DOCTYPE html>
<html lang="en">
<head>

  
    <script src="https://cdn.botpress.cloud/webchat/v3.5/inject.js"></script>
<script src="https://files.bpcontent.cloud/2026/01/14/03/20260114035928-3GIYVJDE.js" defer></script>
    
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interior Design Chatbot Suite</title>
  <style>
    /* ===== General Styles ===== */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
      scroll-behavior: smooth;
    }

    h1, h2 {
      text-align: center;
      margin: 20px 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    /* ===== Poster ===== */
    .poster {
      display: block;
      max-width: 100%;
      margin: 30px auto;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* ===== Video ===== */
    .video-wrapper,
    .poster-wrapper {
      display: block;
    }

    .media-grid {
      display: flex;
      gap: 24px;
      align-items: start;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .media-card {
      background: linear-gradient(180deg, #ffffff, #fbfbfb);
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(12,20,33,0.06);
      padding: 18px;
      flex: 1 1 380px;
      min-width: 320px;
    }

    .poster-card img.poster {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.06);
      display: block;
    }

    .video-card .video {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      display: block;
      margin: 0 0 12px 0;
    }

    /* Custom media controls */
    .media-controls {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .control-group {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .control-button {
      background: #222;
      color: #fff;
      border: none;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
    }

    .range {
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      background: linear-gradient(90deg,#4caf50,#7bd389);
      border-radius: 6px;
      cursor: pointer;
      width: 200px;
    }

    .time {
      font-size: 13px;
      color: #555;
      min-width: 90px;
      text-align: right;
    }

    .unmute-btn {
      position: absolute;
      right: 14px;
      bottom: 14px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      backdrop-filter: blur(4px);
    }

    .unmute-btn:focus { outline: 2px solid #fff; }

    /* ===== Chatbot ===== */
    #flowise-chatbot {
      position: fixed;
      bottom: -550px;
      right: 20px;
      width: 350px;
      height: 500px;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      overflow: hidden;
      background: #fff;
      transition: bottom 0.3s ease-in-out;
      z-index: 9998;
    }

    #flowise-chatbot.active {
      bottom: 80px;
    }

      /* Chat toggle button (compact Flowise style) */
      #open-chat {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(180deg,#1e90ff,#0b66d0);
        color: #fff;
        border: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 20px rgba(11,102,208,0.25);
        cursor: pointer;
        z-index: 9999;
      }

      #open-chat:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 28px rgba(11,102,208,0.28);
      }

    /* Close button inside chatbot */
    #close-chat {
      position: absolute;
      top: 8px;
      right: 10px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
      cursor: pointer;
      z-index: 10000;
    }

    /* ===== Sections Styling ===== */
    .section {
      background: #fff;
      padding: 40px 20px;
      margin-bottom: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    /* ===== Responsive ===== */
    @media (max-width: 768px) {
      #flowise-chatbot {
        width: 90%;
        right: 5%;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Page Header -->
    <h1>Interior Design Chatbot Suite</h1>
    <p style="text-align:center; max-width:800px; margin:auto;">Your AI assistant for HDB renovation rules, BTO eligibility, grants, budget planning, and interior design inspiration.</p>

    <div class="section">
      <h2>Explore the Assistant</h2>
      <div class="media-grid">
        <div class="media-card poster-card">
          <h3 style="margin-top:0;">Promotional Poster</h3>
          <img src="assets/Poster%20-%20Plan%20Your%20Dream%20HDB%20Flat!.png" alt="HDB Chatbot Poster" class="poster">
          <p style="color:#666; margin-top:10px;">Tap the poster to download or open full size.</p>
        </div>

        <div class="media-card video-card">
          <h3 style="margin-top:0;">Watch Our AI Assistant in Action</h3>
          <div class="video-wrapper">
            <video id="promo-video" class="video" autoplay muted loop playsinline preload="metadata" poster="assets/Poster%20-%20Plan%20Your%20Dream%20HDB%20Flat!.png">
              <source src="assets/HDB%20Renovation%20Assistant.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <button id="unmute-btn" class="unmute-btn" aria-pressed="false">Unmute</button>
          </div>

          <div class="media-controls" role="group" aria-label="Video controls">
            <div class="control-group">
              <button id="play-btn" class="control-button" aria-pressed="false">Play</button>
              <button id="fs-btn" class="control-button">â¤¢</button>
            </div>

            <div class="control-group">
              <input id="progress" class="range" type="range" min="0" max="100" value="0" aria-label="Video progress">
              <div class="time" id="time">0:00 / 0:00</div>
            </div>

            <div class="control-group">
              <label for="volume" style="font-size:13px;color:#444;">Vol</label>
              <input id="volume" class="range" type="range" min="0" max="1" step="0.01" value="0" aria-label="Volume">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chatbot Toggle Button (compact Flowise button) -->
  <button id="open-chat" aria-label="Open chat" title="Chat with us">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" fill="white"/>
    </svg>
  </button>

  <!-- Chatbot Container -->
  <div id="flowise-chatbot">
    <span id="close-chat">&times;</span>
  </div>

  <!-- Botpress Chatbot Embed (uses provided shareable URL) -->
  <script>
    const BOTPRESS_URL = "https://cdn.botpress.cloud/webchat/v3.5/shareable.html?configUrl=https://files.bpcontent.cloud/2026/01/14/03/20260114035928-MOB2EQWY.json";
    const chatDiv = document.getElementById("flowise-chatbot");
    const openBtn = document.getElementById("open-chat");
    const closeBtn = document.getElementById("close-chat");

    function ensureIframe() {
      if (!chatDiv.querySelector('iframe')) {
        const iframe = document.createElement('iframe');
        iframe.src = BOTPRESS_URL;
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = '0';
        iframe.setAttribute('title','Botpress Chat');
        chatDiv.appendChild(iframe);
      }
    }

    openBtn.addEventListener('click', () => {
      ensureIframe();
      chatDiv.classList.add('active');
    });

    closeBtn.addEventListener('click', () => {
      chatDiv.classList.remove('active');
    });
  </script>

  <script>
    // Video mute/unmute helper
    (function(){
      const video = document.getElementById('promo-video');
      const btn = document.getElementById('unmute-btn');

      if(!video || !btn) return;

      function updateButton() {
        if (video.muted) {
          btn.textContent = 'Unmute';
          btn.setAttribute('aria-pressed','false');
        } else {
          btn.textContent = 'Mute';
          btn.setAttribute('aria-pressed','true');
        }
      }

      // Try to keep autoplay playing muted; show button so user can enable sound.
      updateButton();

      btn.addEventListener('click', async () => {
        try {
          video.muted = !video.muted;
          updateButton();
          // Attempt to resume playback with sound on user gesture
          await video.play();
        } catch (err) {
          // If play() fails, leave muted state and focus video for user.
          console.warn('Playback failed:', err);
        }
      });

      // Optional: if user interacts elsewhere, ensure button text reflects state
      document.addEventListener('visibilitychange', updateButton);
    })();
  </script>

  <script>
    // Custom controls for promo video
    (function(){
      const video = document.getElementById('promo-video');
      const playBtn = document.getElementById('play-btn');
      const fsBtn = document.getElementById('fs-btn');
      const progress = document.getElementById('progress');
      const timeLbl = document.getElementById('time');
      const volume = document.getElementById('volume');

      if(!video) return;

      // Initialize UI
      function fmt(t){
        if(isNaN(t)) return '0:00';
        const m = Math.floor(t/60);
        const s = Math.floor(t%60).toString().padStart(2,'0');
        return `${m}:${s}`;
      }

      video.addEventListener('loadedmetadata', ()=>{
        progress.max = Math.floor(video.duration);
        timeLbl.textContent = `${fmt(0)} / ${fmt(video.duration)}`;
        // set default volume to 0.8 if initially muted
        if(video.muted) { volume.value = 0; } else { volume.value = video.volume; }
      });

      video.addEventListener('timeupdate', ()=>{
        progress.value = Math.floor(video.currentTime);
        timeLbl.textContent = `${fmt(video.currentTime)} / ${fmt(video.duration)}`;
      });

      playBtn.addEventListener('click', async ()=>{
        if(video.paused){
          await video.play();
          playBtn.textContent = 'Pause';
          playBtn.setAttribute('aria-pressed','true');
        } else {
          video.pause();
          playBtn.textContent = 'Play';
          playBtn.setAttribute('aria-pressed','false');
        }
      });

      progress.addEventListener('input', ()=>{
        video.currentTime = Number(progress.value);
      });

      volume.addEventListener('input', ()=>{
        video.muted = false;
        video.volume = Number(volume.value);
        // Sync unmute button state
        const ub = document.getElementById('unmute-btn'); if(ub) ub.textContent = video.muted? 'Unmute':'Mute';
      });

      fsBtn.addEventListener('click', ()=>{
        if (document.fullscreenElement) {
          document.exitFullscreen();
        } else {
          video.requestFullscreen().catch(()=>{});
        }
      });

      // Clicking poster image should open file in new tab
      const posterImg = document.querySelector('.poster-card img.poster');
      if(posterImg){
        posterImg.style.cursor = 'pointer';
        posterImg.addEventListener('click', ()=>{
          window.open(posterImg.src, '_blank');
        });
      }
    })();
  </script>

</body>
</html>
